      } catch (e) {
        return "Error calculating expression.";
      }
    }

    function handleMessage() {
      const text = input.value.trim();
      if (!text) return;
      addMessage("user", text);
      input.value = "";

      if (text.toLowerCase().startsWith("password:")) {
        const pwd = text.split(":")[1].trim();
        const strength = checkPasswordStrength(pwd);
        addMessage("bot", `Password strength: ${strength}`);
      } else if (text.toLowerCase().startsWith("calc:")) {
        const expr = text.split(":")[1].trim();
        const result = calculateMath(expr);
        addMessage("bot", result);
      } else if (qa[text.toLowerCase()]) {
        addMessage("bot", qa[text.toLowerCase()]);
      } else {
        const link = `https://www.google.com/search?q=${encodeURIComponent(text)}`;
        addMessage("bot", `Sorry, I don't know. Try <a href='${link}' target='_blank'>searching it on Google</a>.`);
      }
    }

    document.getElementById("sendButton").onclick = handleMessage;
    input.addEventListener("keypress", e => {
      if (e.key === "Enter") handleMessage();
    });
  </script></body>
</html>
